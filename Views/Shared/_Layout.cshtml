<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="~/Content/css/homelayout.css" rel="stylesheet" />
    <link href="~/Content/css/header-user-style.css" rel="stylesheet" />
    <link href="@Url.Content("~/Content/css/Searchbox.css")" rel="stylesheet" />
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="header-left">
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <a href="~/home/index" class="logo">
                    <i class="fas fa-bolt"></i>
                    <span>TechStore</span>
                </a>
                <nav>
                    <ul class="nav-links">
                        <li><a href="~/home/index"><i class="fas fa-home"></i> Trang chủ</a></li>
                        <li><a href="Contact"><i class="fas fa-envelope"></i> Liên hệ</a></li>
                        <li><a href="About"><i class="fas fa-info-circle"></i> Về chúng tôi</a></li>
                    </ul>
                </nav>
            </div>
            <div class="header-right">
                <!-- Search Box with Autocomplete -->
                <div class="search-box">
                    <form id="search-form" action="@Url.Action("Index", "Search")" method="get">
                        <input type="text"
                               id="search-input"
                               name="q"
                               placeholder="Tìm kiếm sản phẩm..."
                               autocomplete="off"
                               maxlength="100">
                        <i class="fas fa-times clear-icon"></i>
                        <i class="fas fa-search search-icon" onclick="document.getElementById('search-form').submit()"></i>
                    </form>
                    <!-- Autocomplete Dropdown -->
                    <div class="search-autocomplete" id="search-autocomplete">
                        <!-- Results will be inserted here by JavaScript -->
                    </div>
                </div>

                <!-- Mobile Search Button -->
                <button class="icon-btn mobile-only" id="mobile-search-btn" title="Tìm kiếm">
                    <i class="fas fa-search"></i>
                </button>

                <button class="icon-btn" id="themeToggle" title="Chuyển đổi giao diện">
                    <i class="fas fa-moon"></i>
                </button>
                @Html.Action("HeaderUserData", "Home")
            </div>
        </div>
    </header>

    <!-- Mobile Search Overlay -->
    <div class="mobile-search-overlay" id="mobile-search-overlay">
        <div class="mobile-search-header">
            <button class="mobile-search-close" id="mobile-search-close">
                <i class="fas fa-arrow-left"></i>
            </button>
            <input type="text"
                   id="mobile-search-input"
                   class="mobile-search-input"
                   placeholder="Tìm kiếm sản phẩm..."
                   autocomplete="off">
        </div>
        <div class="mobile-search-results">
            <!-- Results will be inserted here -->
        </div>
    </div>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <ul class="sidebar-menu">
            <li class="sidebar-item">
                <a class="sidebar-link" id="sidebarToggle" title="Thu gọn sidebar" style="cursor:pointer;">
                    <i class="fa-solid fa-bars"></i>
                    <span>Danh mục</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="@Url.Action("SmartPhone","Products")" class="sidebar-link">
                    <i class="fas fa-mobile-alt"></i>
                    <span>Điện thoại</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="@Url.Action("Laptop","Products")" class="sidebar-link">
                    <i class="fas fa-laptop"></i>
                    <span>Laptop</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="#" class="sidebar-link">
                    <i class="fas fa-headphones"></i>
                    <span>Phụ kiện</span>
                </a>
            </li>
            <div class="sidebar-divider"></div>
            <li class="sidebar-item">
                <a href="#" class="sidebar-link">
                    <i class="fas fa-fire"></i>
                    <span>Nổi bật</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="#" class="sidebar-link">
                    <i class="fas fa-crown"></i>
                    <span>Best Seller</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="#" class="sidebar-link">
                    <i class="fas fa-tag"></i>
                    <span>Khuyến mãi</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="#" class="sidebar-link">
                    <i class="fas fa-star"></i>
                    <span>Sản phẩm mới</span>
                </a>
            </li>
            <div class="sidebar-divider"></div>
            <li class="sidebar-item">
                <a href="#" class="sidebar-link">
                    <i class="fas fa-tablet-alt"></i>
                    <span>Tablet</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="#" class="sidebar-link">
                    <i class="fas fa-watch"></i>
                    <span>Smartwatch</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="#" class="sidebar-link">
                    <i class="fas fa-tv"></i>
                    <span>TV & Monitor</span>
                </a>
            </li>
        </ul>
    </aside>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        @RenderBody()
    </main>

    <script src="~/Scripts/self/cusstom.js"></script>
    <script src="~/Scripts/self/headeruserdata.js"></script>
    <script src="~/Scripts/self/searchbox.js"></script>
</body>
</html>